{"version":3,"sources":["components/Loader/Loader.module.css","components/QuantityPerPage/QuantityPerPage.jsx","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/pixabay-api.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/App.js","index.js"],"names":["module","exports","QuantityPerPage","onChange","useState","value","setValue","useEffect","className","name","id","e","target","SearchBar","onChangeQuantity","onSubmitForm","query","setQuery","onSubmit","preventDefault","handleSubmitForm","type","autoComplete","autoFocus","placeholder","ImageGalleryItem","previewUrl","imageUrl","onClickImage","onClick","src","alt","data-url","width","ImageGallery","galleryPhotos","onOpenModal","map","largeImageURL","webformatURL","axios","defaults","baseURL","galleryApi","API_KEY","fetchGallery","pageNumber","quantity","get","then","data","hits","result","Button","onLoadMore","modalRoot","document","querySelector","Modal","onCloseModal","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","currentTarget","handleBackDropClick","color","size","App","isLoading","s","loaderContainer","visible","height","timeout","gallery","setGallery","page","setPage","searchQuery","setSearchQuery","showModal","setShowModal","modalImageUrl","setModalImageUrl","setIsLoading","setQuantity","scrollToNextPage","toggleModal","pixabayApi","images","finally","scrollTo","top","documentElement","scrollHeight","behavior","url","dataset","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9cf62625.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__19ipN\"};","import { useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\n\nexport default function QuantityPerPage({ onChange }) {\n  const [value, setValue] = useState(8);\n\n  useEffect(() => {\n    onChange(value);\n  }, [onChange, value]);\n\n  return (\n    <select\n      className=\"QuantitySelect\"\n      value={value}\n      name=\"quantity\"\n      id=\"quantity\"\n      onChange={e => setValue(e.target.value)}\n    >\n      <option value=\"4\" name=\"quantity\">\n        4\n      </option>\n      <option value=\"8\" name=\"quantity\">\n        8\n      </option>\n      <option value=\"12\" name=\"quantity\">\n        12\n      </option>\n      <option value=\"20\" name=\"quantity\">\n        20\n      </option>\n    </select>\n  );\n}\n\nQuantityPerPage.propTypes = {\n  onChange: propTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport propTypes from 'prop-types';\nimport QuantityPerPage from '../QuantityPerPage/QuantityPerPage';\n\nexport default function SearchBar({ onChangeQuantity, onSubmitForm }) {\n  const [query, setQuery] = useState('');\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n\n    if (!query) return;\n    onSubmitForm(query);\n    setQuery('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={e => handleSubmitForm(e)}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          value={query}\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={e => setQuery(e.target.value)}\n        />\n      </form>\n      <QuantityPerPage onChange={onChangeQuantity} />\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmitForm: propTypes.func.isRequired,\n  onChangeQuantity: propTypes.func.isRequired,\n};\n","import propTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  previewUrl,\n  imageUrl,\n  onClickImage,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={e => onClickImage(e)}>\n      <img\n        src={previewUrl}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n        data-url={imageUrl}\n        width=\"150\"\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  previewUrl: propTypes.string,\n  imageUrl: propTypes.string,\n  onClickImage: propTypes.func,\n};\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport propTypes from 'prop-types';\n\nexport default function ImageGallery({ galleryPhotos, onOpenModal }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {galleryPhotos.map(({ id, largeImageURL, webformatURL }) => (\n        <ImageGalleryItem\n          key={id}\n          previewUrl={webformatURL}\n          imageUrl={largeImageURL}\n          onClickImage={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  onOpenModal: propTypes.func,\n  galleryPhotos: propTypes.arrayOf(\n    propTypes.exact({\n      id: propTypes.number,\n      webformatURL: propTypes.string,\n      largeImageURL: propTypes.string,\n    }),\n  ),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst galleryApi = {\n  API_KEY: '13118160-85f169275baea695b5828e8ed',\n\n  async fetchGallery(query = '', pageNumber = 1, quantity = 4) {\n    return await axios\n      .get(\n        `/?q=${query}&page=${pageNumber}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=${quantity}`,\n      )\n      .then(({ data }) => data.hits)\n      .then(result =>\n        result.map(({ id, largeImageURL, webformatURL }) => ({\n          id,\n          largeImageURL,\n          webformatURL,\n        })),\n      );\n  },\n};\n\nexport default galleryApi;\n","import propTypes from 'prop-types';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={() => onLoadMore()}>\n      load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: propTypes.func,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onCloseModal, imageUrl }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  };\n\n  const handleBackDropClick = e => {\n    if (e.currentTarget === e.target) {\n      onCloseModal();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={e => handleBackDropClick(e)}>\n      <div className=\"Modal\">\n        <div className=\"ModalButtonWrapper\" onClick={() => onCloseModal()}>\n          <AiOutlineCloseCircle color=\"white\" size=\"25px\" />\n        </div>\n        <img src={imageUrl} alt=\"photos\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nexport default function App({ isLoading }) {\n  return (\n    <div className={s.loaderContainer}>\n      <Loader\n        visible={isLoading}\n        type=\"BallTriangle\"\n        color=\"#00BFFF\"\n        height={50}\n        width={50}\n        timeout={0}\n      />\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nimport SearchBar from './SearchBar/SearchBar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport pixabayApi from '../services/pixabay-api';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\nimport Loader from './Loader/Loader';\n\nexport default function App() {\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [modalImageUrl, setModalImageUrl] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [quantity, setQuantity] = useState(8);\n\n  useEffect(() => {\n    if (searchQuery) {\n      fetchGallery();\n    }\n  }, [searchQuery, quantity]);\n\n  useEffect(() => {\n    scrollToNextPage();\n  });\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const fetchGallery = () => {\n    setIsLoading(isLoading => !isLoading);\n\n    pixabayApi\n      .fetchGallery(searchQuery, page, quantity)\n      .then(images => {\n        setGallery(gallery => [...gallery, ...images]);\n        setPage(page => page + 1);\n      })\n      .finally(() => setIsLoading(isLoading => !isLoading));\n  };\n\n  const handleOpenModal = e => {\n    const url = e.target.dataset.url;\n\n    toggleModal();\n    setModalImageUrl(url);\n  };\n\n  const onChangeQuery = query => {\n    setSearchQuery(query);\n    setGallery([]);\n    setPage(1);\n  };\n\n  const onChangeQuantity = value => setQuantity(value);\n\n  const scrollToNextPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <>\n      <SearchBar\n        onSubmitForm={onChangeQuery}\n        onChangeQuantity={onChangeQuantity}\n      />\n      <main>\n        <ImageGallery galleryPhotos={gallery} onOpenModal={handleOpenModal} />\n        <Loader isLoading={isLoading} />\n\n        {gallery.length > 0 && !isLoading && (\n          <Button onLoadMore={fetchGallery} />\n        )}\n\n        {showModal && (\n          <Modal imageUrl={modalImageUrl} onCloseModal={toggleModal} />\n        )}\n      </main>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/styles.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}